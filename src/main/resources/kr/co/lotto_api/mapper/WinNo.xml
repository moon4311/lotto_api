<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.lotto_api.mapper.WinNo">
 
 	<sql id="tblnm">win_no_tb</sql>
 	
 	<!-- 한건 조회 -->
 	<select id="selectOne" parameterType="map" resultType="kr.co.lotto_api.model.WinNoVO">
		SELECT 
			DRW_NO,
			DT,
			NO1,NO2,NO3,NO4,NO5,NO6,NO7
		FROM <include refid="tblnm" /> 
		WHERE DRW_NO = #{drwNo}
	</select>
	
	
 	<!-- 다건 조회 -->
 	<select id="selectList" parameterType="map" resultType="kr.co.lotto_api.model.WinNoVO">
		SELECT 
			DRW_NO,
			DT,
			NO1,NO2,NO3,NO4,NO5,NO6,NO7
		FROM <include refid="tblnm" /> 
		ORDER BY DRW_NO DESC
	</select>
 
	
	<!-- 입력 -->
	<insert id="insert" parameterType="map">
		INSERT INTO <include refid="tblnm"/>
		(
			NOTICE_SEQ,
			SUBJECT,
			CONTENTS,
			NOTICE_TYPE_CD,
			FILE_NO
			<include refid="mybatis.mapper.Base.insert_select"/>
		)
		values
		(
			${plinkName}.fn_get_seq_id('NT'),
			#{subject},
			#{contents},
			#{noticeTypeCd},
			#{fileNo}
			<include refid="mybatis.mapper.Base.insert"/>
		)
	</insert>
	
	<!-- 수정 -->
	<update id="update" parameterType="map">
		UPDATE <include refid="tblnm"/>
		SET SUBJECT = #{subject},
			CONTENTS = #{contents},
			NOTICE_TYPE_CD = #{noticeTypeCd},
			FILE_NO = #{fileNo}
			<include refid="mybatis.mapper.Base.update"/>
		WHERE NOTICE_SEQ= #{noticeSeq}
	</update>
	
	<!-- 삭제 -->
	<delete id="delete" parameterType="map">
		DELETE
		FROM <include refid="tblnm" />
		WHERE NOTICE_SEQ= #{noticeSeq}
	</delete>

</mapper>